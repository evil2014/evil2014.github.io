<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <title>8.2.2.2 Verificación de la configuración de SNMP</title>
    <!-- Content -->
    <link type="text/css" rel="stylesheet" href="../../common/styles/course.css"/>
    <script type="text/javascript" src="../../common/scripts/jquery_bundle.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/jquery.ui.touch-punch.min.js"></script>
    <script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script>
      var myLayout;
      $(document).ready(function () {
        var frame = document.getElementById('mainFrame');
        if (isTextOnly(window)) {
          frame.setAttribute('src', 'media_8.2.2.2_longdesc.txt');
        } else {
          frame.setAttribute('src', 'media/index.html');
        }
        myLayout = $('body').layout({
          west__size: 300,
          west__minSize: 300,
          center__minWidth: 100,
          resizerTip: 'Cambiar el tamaño',
          sliderTip: 'Deslizar para abrir',
          togglerTip_open: 'Cerrar',
          togglerTip_closed: 'Abrir',
          stateManagement__enabled: true,
          maskIframesOnResize: true,
          livePaneResizing: true,
          onresize_end: resizeTextDiv,
          stateManagement__cookie__name: "ui_pane",
          stateManagement__cookie__expires: 1,
          stateManagement__cookie__path: "/"
        });
        var isiPad = navigator.userAgent.match(/iPad/i) != null;
        if(isiPad){
          var paneOptions = myLayout.options["west"]; 
          paneOptions.spacing_open = 12;
          myLayout.resizeAll(); 
        }
      });
      function resizeTextDiv() {
        var DivHeight = document.getElementById("header").offsetHeight;
        document.getElementById("content").style.top = String(DivHeight) + 'px';
      }
    </script>
  </head>
  <body class="onecolumn" onLoad="resizeTextDiv()">
    <div class="ui-layout-west">
      <div id="header">
        <h1>SNMP</h1>
        <h2>Configuración de SNMP</h2>
      </div>
      <div id="content">
<p>Existen varias soluciones de software para ver el resultado de SNMP. Para nuestros fines, el servidor de syslog Kiwi muestra los mensajes de SNMP asociados a las traps de SNMP. </p>
<p></p>
<p>La PC1 y el R1 están configurados para demostrar el resultado en un administrador de SNMP en relación con las traps de SNMP. </p>
<p></p>
<p>Como se muestra en la figura 1, se asignó la dirección IP 192.168.1.3/24 a la PC1. El servidor de syslog Kiwi está instalado en la PC1.</p>
<p></p>
<p>Después de que se configura el R1, cada vez que ocurre un evento que califique como trap, se envían traps de SNMP al administrador de SNMP. Por ejemplo, si se activa una interfaz, se envía una trap al servidor. Los cambios de configuración en el router también activan el envío de traps de SNMP al administrador de SNMP. Se puede ver una lista de más de 60 tipos de notificación de traps con el comando <span class="cmd"><b>snmp-server enable traps ? </b></span>.  En la configuración del R1, no se especifica ningún tipo de notificación de trap en el comando <span class="cmd"><b>snmp-server enable traps </b></span><span class="cmd"><i>tipos-notificación</i></span>, de modo que se envían todas las traps.</p>
<p></p>
<p>En la figura 2, se activó una casilla de verificación en el menú <b>Setup</b> (Configuración) para indicar que el administrador de red desea que el software del administrador de SNMP escuche para detectar las traps de SNMP en el puerto UDP 162.</p>
<p></p>
<p>En la figura 3, la fila superior del resultado de trap de SNMP que se muestra indica que el estado de la interfaz GigabitEthernet0/0 cambió a up (activo). Además, cada vez que se pasa del modo EXEC privilegiado al modo de configuración global, el administrador de SNMP recibe una trap, como se muestra en la fila resaltada. </p>
<p></p>
<p>Para verificar la configuración SNMP, utilice cualquier variante del comando <span class="cmd"><b>show snmp</b></span> del modo EXEC privilegiado. El comando más útil es simplemente el comando <span class="cmd"><b>show snmp</b></span>, ya que muestra la información que suele ser de interés al examinar la configuración SNMP. A menos que haya una configuración SNMPv3 involucrada, la mayoría de las otras opciones de comandos solo muestran partes seleccionadas del resultado del comando <span class="cmd"><b>show snmp</b></span>. En la figura 4, se proporciona un ejemplo del resultado de <span class="cmd"><b>show snmp</b></span>.</p>
<p></p>
<p>El resultado del comando <span class="cmd"><b>show snmp</b></span> no muestra información relacionada con la cadena de comunidad SNMP o, si corresponde, con la ACL asociada. En la figura 5, se muestra la información de la cadena de comunidad SNMP y de la ACL mediante el comando <span class="cmd"><b>show snmp community</b></span>.</p>
<p></p>
<p>Utilice el verificador de sintaxis de la figura 6 para configurar y verificar SNMP en el R1.</p>
</div>
    </div>
    <iframe id="mainFrame" name="mainFrame" frameborder="0" class="ui-layout-center" alt="interactive graphic"></iframe>
  </body>
</html>
